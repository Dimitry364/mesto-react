{"ast":null,"code":"class Api{constructor(options){this._baseUrl=options.baseUrl;this._headers=options.headers;}getInitialData(){return Promise.all([this.getUser(),this.getInitialCards()]);}getUser(){return this._request(this._baseUrl+'/users/me',{method:'GET',headers:this._headers});}setUser(_ref){let{name,about}=_ref;return this._request(this._baseUrl+'/users/me',{method:'PATCH',headers:this._headers,body:JSON.stringify({name:name,about:about})});}updateAvatar(avatarSrc){return this._request(this._baseUrl+'/users/me/avatar',{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:avatarSrc})});}addCard(_ref2){let{name,link}=_ref2;return this._request(this._baseUrl+'/cards',{method:'POST',headers:this._headers,body:JSON.stringify({name:name,link:link})});}likeCard(id,isLiked){return this._request(this._baseUrl+'/cards/likes/'+id,{method:isLiked?'DELETE':'PUT',headers:this._headers});}deleteCard(id){return this._request(this._baseUrl+'/cards/'+id,{method:'DELETE',headers:this._headers});}getInitialCards(){return this._request(this._baseUrl+'/cards',{method:'GET',headers:this._headers});}_request(url,options){return fetch(url,options).then(this._checkResponse);}_checkResponse(res){if(res.ok)return res.json();return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}}const api=new Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-77',headers:{authorization:'1a5c2685-c177-4bf1-8fad-293b36b650f1','Content-Type':'application/json'}});export default api;","map":{"version":3,"names":["Api","constructor","options","_baseUrl","baseUrl","_headers","headers","getInitialData","Promise","all","getUser","getInitialCards","_request","method","setUser","_ref","name","about","body","JSON","stringify","updateAvatar","avatarSrc","avatar","addCard","_ref2","link","likeCard","id","isLiked","deleteCard","url","fetch","then","_checkResponse","res","ok","json","reject","concat","status","api","authorization"],"sources":["C:/Users/Dmitry364/Desktop/dev/mesto-react/mesto-react/src/utils/Api.js"],"sourcesContent":["class Api {\r\n    constructor(options) {\r\n        this._baseUrl = options.baseUrl;\r\n        this._headers = options.headers;\r\n    }\r\n\r\n    getInitialData() {\r\n        return Promise.all([this.getUser(), this.getInitialCards()]);\r\n    }\r\n\r\n    getUser() {\r\n        return this._request(this._baseUrl + '/users/me', {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        });\r\n    }\r\n\r\n    setUser({ name, about }) {\r\n        return this._request(this._baseUrl + '/users/me', {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: about\r\n            })\r\n        });\r\n    }\r\n\r\n    updateAvatar(avatarSrc) {\r\n        return this._request(this._baseUrl + '/users/me/avatar', {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: avatarSrc\r\n            })\r\n        });\r\n    }\r\n\r\n    addCard({ name, link }) {\r\n        return this._request(this._baseUrl + '/cards', {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                link: link\r\n            })\r\n        });\r\n    }\r\n\r\n    likeCard(id, isLiked) {\r\n        return this._request(this._baseUrl + '/cards/likes/' + id, {\r\n            method: isLiked ? 'DELETE' : 'PUT',\r\n            headers: this._headers\r\n        });\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return this._request(this._baseUrl + '/cards/' + id, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        });\r\n    }\r\n\r\n    getInitialCards() {\r\n        return this._request(this._baseUrl + '/cards', {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        });\r\n    }\r\n\r\n    _request(url, options) {\r\n        return fetch(url, options).then(this._checkResponse)\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok)\r\n            return res.json();\r\n\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-77',\r\n    headers: {\r\n      authorization: '1a5c2685-c177-4bf1-8fad-293b36b650f1',\r\n      'Content-Type': 'application/json'\r\n    }\r\n  })\r\n  \r\n  export default api;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
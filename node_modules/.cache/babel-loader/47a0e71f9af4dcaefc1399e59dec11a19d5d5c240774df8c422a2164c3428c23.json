{"ast":null,"code":"import React from\"react\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){const[name,setName]=React.useState(\"\");const[description,setDescription]=React.useState(\"\");const currentUser=React.useContext(CurrentUserContext);React.useEffect(()=>{if(props.isOpen){setName(currentUser.name);setDescription(currentUser.about);}},[props.isOpen,currentUser]);function handleName(evt){setName(evt.target.value);}function handleDescription(evt){setDescription(evt.target.value);}function handleSubmit(evt){evt.preventDefault();props.onUpdateUser({name,about:description});}return/*#__PURE__*/_jsxs(PopupWithForm,{isOpen:props.isOpen,onClose:props.onClose,onCloseClick:props.onCloseClick,id:\"popup-edit\",form:\"profiel-edit\",title:\"Редактировать профиль\",buttonText:\"Сохранить\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup__field\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"popup__edit-name-input\",className:\"popup__input\",type:\"text\",minLength:\"2\",maxLength:\"40\",name:\"name\",placeholder:\"\\u0418\\u043C\\u044F\",value:name,onChange:handleName,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__edit-name-input-error popup__input-error\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup__field\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"popup__edit-about-input\",className:\"popup__input\",type:\"text\",minLength:\"2\",maxLength:\"200\",name:\"about\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",value:description,onChange:handleDescription,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__edit-about-input-error popup__input-error\"})]})]});}export default EditProfilePopup;","map":{"version":3,"names":["React","PopupWithForm","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","props","name","setName","useState","description","setDescription","currentUser","useContext","useEffect","isOpen","about","handleName","evt","target","value","handleDescription","handleSubmit","preventDefault","onUpdateUser","onClose","onCloseClick","id","form","title","buttonText","onSubmit","children","className","type","minLength","maxLength","placeholder","onChange","required"],"sources":["C:/Users/Dmitry364/Desktop/dev/mesto-react/mesto-react/src/components/EditProfilePopup.js"],"sourcesContent":["import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    if (props.isOpen) {\r\n      setName(currentUser.name);\r\n      setDescription(currentUser.about);\r\n    }\r\n  }, [props.isOpen, currentUser]);\r\n\r\n  function handleName(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleDescription(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onCloseClick={props.onCloseClick}\r\n      id={\"popup-edit\"}\r\n      form={\"profiel-edit\"}\r\n      title={\"Редактировать профиль\"}\r\n      buttonText={\"Сохранить\"}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <div className=\"popup__field\">\r\n        <input\r\n          id=\"popup__edit-name-input\"\r\n          className=\"popup__input\"\r\n          type=\"text\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          name=\"name\"\r\n          placeholder=\"Имя\"\r\n          value={name}\r\n          onChange={handleName}\r\n          required\r\n        />\r\n        <span className=\"popup__edit-name-input-error popup__input-error\" />\r\n      </div>\r\n      <div className=\"popup__field\">\r\n        <input\r\n          id=\"popup__edit-about-input\"\r\n          className=\"popup__input\"\r\n          type=\"text\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          name=\"about\"\r\n          placeholder=\"О себе\"\r\n          value={description}\r\n          onChange={handleDescription}\r\n          required\r\n        />\r\n        <span className=\"popup__edit-about-input-error popup__input-error\" />\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,OAASC,kBAAkB,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpE,QAAS,CAAAC,gBAAgBA,CAACC,KAAK,CAAE,CAC/B,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGV,KAAK,CAACW,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGb,KAAK,CAACW,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAAAG,WAAW,CAAGd,KAAK,CAACe,UAAU,CAACb,kBAAkB,CAAC,CAExDF,KAAK,CAACgB,SAAS,CAAC,IAAM,CACpB,GAAIR,KAAK,CAACS,MAAM,CAAE,CAChBP,OAAO,CAACI,WAAW,CAACL,IAAI,CAAC,CACzBI,cAAc,CAACC,WAAW,CAACI,KAAK,CAAC,CACnC,CACF,CAAC,CAAE,CAACV,KAAK,CAACS,MAAM,CAAEH,WAAW,CAAC,CAAC,CAE/B,QAAS,CAAAK,UAAUA,CAACC,GAAG,CAAE,CACvBV,OAAO,CAACU,GAAG,CAACC,MAAM,CAACC,KAAK,CAAC,CAC3B,CAEA,QAAS,CAAAC,iBAAiBA,CAACH,GAAG,CAAE,CAC9BP,cAAc,CAACO,GAAG,CAACC,MAAM,CAACC,KAAK,CAAC,CAClC,CAEA,QAAS,CAAAE,YAAYA,CAACJ,GAAG,CAAE,CACzBA,GAAG,CAACK,cAAc,CAAC,CAAC,CAEpBjB,KAAK,CAACkB,YAAY,CAAC,CACjBjB,IAAI,CACJS,KAAK,CAAEN,WACT,CAAC,CAAC,CACJ,CAEA,mBACEN,KAAA,CAACL,aAAa,EACZgB,MAAM,CAAET,KAAK,CAACS,MAAO,CACrBU,OAAO,CAAEnB,KAAK,CAACmB,OAAQ,CACvBC,YAAY,CAAEpB,KAAK,CAACoB,YAAa,CACjCC,EAAE,CAAE,YAAa,CACjBC,IAAI,CAAE,cAAe,CACrBC,KAAK,CAAE,uBAAwB,CAC/BC,UAAU,CAAE,WAAY,CACxBC,QAAQ,CAAET,YAAa,CAAAU,QAAA,eAEvB5B,KAAA,QAAK6B,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3B9B,IAAA,UACEyB,EAAE,CAAC,wBAAwB,CAC3BM,SAAS,CAAC,cAAc,CACxBC,IAAI,CAAC,MAAM,CACXC,SAAS,CAAC,GAAG,CACbC,SAAS,CAAC,IAAI,CACd7B,IAAI,CAAC,MAAM,CACX8B,WAAW,CAAC,oBAAK,CACjBjB,KAAK,CAAEb,IAAK,CACZ+B,QAAQ,CAAErB,UAAW,CACrBsB,QAAQ,MACT,CAAC,cACFrC,IAAA,SAAM+B,SAAS,CAAC,iDAAiD,CAAE,CAAC,EACjE,CAAC,cACN7B,KAAA,QAAK6B,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3B9B,IAAA,UACEyB,EAAE,CAAC,yBAAyB,CAC5BM,SAAS,CAAC,cAAc,CACxBC,IAAI,CAAC,MAAM,CACXC,SAAS,CAAC,GAAG,CACbC,SAAS,CAAC,KAAK,CACf7B,IAAI,CAAC,OAAO,CACZ8B,WAAW,CAAC,iCAAQ,CACpBjB,KAAK,CAAEV,WAAY,CACnB4B,QAAQ,CAAEjB,iBAAkB,CAC5BkB,QAAQ,MACT,CAAC,cACFrC,IAAA,SAAM+B,SAAS,CAAC,kDAAkD,CAAE,CAAC,EAClE,CAAC,EACO,CAAC,CAEpB,CAEA,cAAe,CAAA5B,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}